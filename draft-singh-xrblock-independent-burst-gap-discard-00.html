<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>RTP Control Protocol (RTCP) Extended Report (XR) Block for Independent Reporting of Burst/Gap Discard Metric</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
      /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
      a.info {
          /* This is the key. */
          position: relative;
          z-index: 24;
          text-decoration: none;
      }
      a.info:hover {
          z-index: 25;
          color: #FFF; background-color: #900;
      }
      a.info span { display: none; }
      a.info:hover span.info {
          /* The span will display just on :hover state. */
          display: block;
          position: absolute;
          font-size: smaller;
          top: 2em; left: -5em; width: 15em;
          padding: 2px; border: 1px solid #333;
          color: #900; background-color: #EEE;
          text-align: left;
      }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  max-width: 55em;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents"/>
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction"/>
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 Burst-Gap Discard Metrics Block"/>
<link href="#rfc.section.1.2" rel="Chapter" title="1.2 RTCP and RTCP Extended Reports"/>
<link href="#rfc.section.1.3" rel="Chapter" title="1.3 Performance Metrics Framework"/>
<link href="#rfc.section.1.4" rel="Chapter" title="1.4 Applicability"/>
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology"/>
<link href="#rfc.section.3" rel="Chapter" title="3 Burst/Gap Discard Metrics Block"/>
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Report Block Structure"/>
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Definition of Fields in Burst/Gap Discard Metrics Block"/>
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 Derived Metrics Based on the Reported Metrics"/>
<link href="#rfc.section.4" rel="Chapter" title="4 Considerations for Voice-over-IP Applications"/>
<link href="#rfc.section.5" rel="Chapter" title="5 SDP Signaling"/>
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 SDP rtcp-xr Attribute Extension"/>
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 Offer/Answer Usage"/>
<link href="#rfc.section.6" rel="Chapter" title="6 IANA Considerations"/>
<link href="#rfc.section.6.1" rel="Chapter" title="6.1 New RTCP XR Block Type Value"/>
<link href="#rfc.section.6.2" rel="Chapter" title="6.2 New RTCP XR SDP Parameter"/>
<link href="#rfc.section.6.3" rel="Chapter" title="6.3 Contact Information for Registrations"/>
<link href="#rfc.section.7" rel="Chapter" title="7 Security Considerations"/>
<link href="#rfc.section.8" rel="Chapter" title="8 Contributors"/>
<link href="#rfc.section.9" rel="Chapter" title="9 Acknowledgments"/>
<link href="#rfc.references" rel="Chapter" title="10 References"/>
<link href="#rfc.references.1" rel="Chapter" title="10.1 Normative References"/>
<link href="#rfc.references.2" rel="Chapter" title="10.2 Informative References"/>
<link href="#rfc.appendix.A" rel="Chapter" title="A Metrics Represented Using the Template from RFC 6390"/>


  <meta name="generator" content="xml2rfc version 2.4.8 - http://tools.ietf.org/tools/xml2rfc" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />

  <meta name="dct.creator" content="Singh, V., Ed. and C. Clark" />
  <meta name="dct.identifier" content="urn:ietf:id:draft-singh-xrblock-independent-burst-gap-discard-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2015-10-20" />
  <meta name="dct.abstract" content="This document defines an RTP Control Protocol (RTCP) Extended Report (XR) block that allows the reporting of burst and gap discard metrics independently of the burst and gap loss metrics for use in a range of RTP applications." />
  <meta name="description" content="This document defines an RTP Control Protocol (RTCP) Extended Report (XR) block that allows the reporting of burst and gap discard metrics independently of the burst and gap loss metrics for use in a range of RTP applications." />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
  <td class="left">Audio/Video Transport Working Group</td>
  <td class="right">V. Singh, Ed.</td>
</tr>
<tr>
  <td class="left">Internet-Draft</td>
  <td class="right">callstats.io</td>
</tr>
<tr>
  <td class="left">Intended status: Standards Track</td>
  <td class="right">C. Clark</td>
</tr>
<tr>
  <td class="left">Expires: April 22, 2016</td>
  <td class="right">Telchemy</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">October 20, 2015</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">RTP Control Protocol (RTCP) Extended Report (XR) Block for Independent Reporting of Burst/Gap Discard Metric<br />
  <span class="filename">draft-singh-xrblock-independent-burst-gap-discard-00</span></p>
  
  <h1 id="rfc.abstract">
  <a href="#rfc.abstract">Abstract</a>
</h1>
<p>This document defines an RTP Control Protocol (RTCP) Extended Report (XR) block that allows the reporting of burst and gap discard metrics independently of the burst and gap loss metrics for use in a range of RTP applications.</p>
<h1 id="rfc.status">
  <a href="#rfc.status">Status of This Memo</a>
</h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on April 22, 2016.</p>
<h1 id="rfc.copyrightnotice">
  <a href="#rfc.copyrightnotice">Copyright Notice</a>
</h1>
<p>Copyright (c) 2015 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a></li>
<li>1.1.   <a href="#rfc.section.1.1">Burst-Gap Discard Metrics Block</a></li>
<li>1.2.   <a href="#rfc.section.1.2">RTCP and RTCP Extended Reports</a></li>
<li>1.3.   <a href="#rfc.section.1.3">Performance Metrics Framework</a></li>
<li>1.4.   <a href="#rfc.section.1.4">Applicability</a></li>
<li>2.   <a href="#rfc.section.2">Terminology</a></li>
<li>3.   <a href="#rfc.section.3">Burst/Gap Discard Metrics Block</a></li>
<li>3.1.   <a href="#rfc.section.3.1">Report Block Structure</a></li>
<li>3.2.   <a href="#rfc.section.3.2">Definition of Fields in Burst/Gap Discard Metrics Block</a></li>
<li>3.3.   <a href="#rfc.section.3.3">Derived Metrics Based on the Reported Metrics</a></li>
<li>4.   <a href="#rfc.section.4">Considerations for Voice-over-IP Applications</a></li>
<li>5.   <a href="#rfc.section.5">SDP Signaling</a></li>
<li>5.1.   <a href="#rfc.section.5.1">SDP rtcp-xr Attribute Extension</a></li>
<li>5.2.   <a href="#rfc.section.5.2">Offer/Answer Usage</a></li>
<li>6.   <a href="#rfc.section.6">IANA Considerations</a></li>
<li>6.1.   <a href="#rfc.section.6.1">New RTCP XR Block Type Value</a></li>
<li>6.2.   <a href="#rfc.section.6.2">New RTCP XR SDP Parameter</a></li>
<li>6.3.   <a href="#rfc.section.6.3">Contact Information for Registrations</a></li>
<li>7.   <a href="#rfc.section.7">Security Considerations</a></li>
<li>8.   <a href="#rfc.section.8">Contributors</a></li>
<li>9.   <a href="#rfc.section.9">Acknowledgments</a></li>
<li>10.   <a href="#rfc.references">References</a></li>
<li>10.1.   <a href="#rfc.references.1">Normative References</a></li>
<li>10.2.   <a href="#rfc.references.2">Informative References</a></li>
<li>Appendix A.   <a href="#rfc.appendix.A">Metrics Represented Using the Template from RFC 6390</a></li>


  </ul>

  <h1 id="rfc.section.1"><a href="#rfc.section.1">1.</a> <a href="#intro" id="intro">Introduction</a></h1>
<h1 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1.</a> Burst-Gap Discard Metrics Block</h1>
<p id="rfc.section.1.1.p.1">This document defines a new block type that extends the metrics defined in <a href="#RFC7003">[RFC7003]</a>, the metrics in this report block can be used in a range of RTP applications.  The new block type reports the proportion of packets discarded by the jitter buffer at the receiver in a burst and number of packets discarded depends on the dejitter buffer algorithm implemented by the endpoint.</p>
<p id="rfc.section.1.1.p.2">The new report block defined in this document is different from the one defined in <a href="#RFC7003">[RFC7003]</a>. The metrics in <a href="#RFC7003">[RFC7003]</a> depends on the metrics in the burst&#8288;gap loss metric defined in <a href="#RFC6958">[RFC6958]</a>.  Consequently, an endpoint using <a href="#RFC7003">[RFC7003]</a> MUST report it along with <a href="#RFC6958">[RFC6958]</a> for it to be useful.  The combined usage is useful when an endpoint observes correlated packet losses and discard. However, when the burst of packet losses and discards do not occur simultaneously, the application may prefer a concise report block that just reports the burst&#8288;gap of discarded packets. The report block in this document provides the complete information and does not require additional report blocks. That is, this block reports: the total number of packets discarded, the total burst duration, and the total number of bursts, all of these metrics are missing in <a href="#RFC7003">[RFC7003]</a>.</p>
<p id="rfc.section.1.1.p.3">This block provides information on transient network issues. Burst/gap metrics are typically used in cumulative reports; however, they may also be used in interval reports (see the Interval Metric flag in Section 3.2). The variation in the number of packet discard in a burst affects the user experience. Based on the metrics reported in the block, the sending endpoint may change the packetisation interval, vary the bitrate, etc.  The report may additionally be used for diagnostics <a href="#RFC6792">[RFC6792]</a>.  The metric belongs to the class of transport-related end-system metrics defined in <a href="#RFC6792">[RFC6792]</a>.</p>
<p id="rfc.section.1.1.p.4">The definitions of "burst", "gap", "loss", and "discard" are consistent with the definitions in <a href="#RFC3611">[RFC3611]</a>. To accommodate the range of jitter buffer algorithms and packet discard logic that may be used by implementors, the method used to distinguish between bursts and gaps shall use an equivalent method to that defined in Section 4.7.2 of <a href="#RFC3611">[RFC3611]</a>. Note that reporting the specific jitter buffer algorithms and/or packet discard logic is out of the scope of this document.</p>
<h1 id="rfc.section.1.2"><a href="#rfc.section.1.2">1.2.</a> RTCP and RTCP Extended Reports</h1>
<p id="rfc.section.1.2.p.1">The use of RTCP for reporting is defined in <a href="#RFC3550">[RFC3550]</a>. <a href="#RFC3611">[RFC3611]</a> defined an extensible structure for reporting using an RTCP Extended Report (XR).  This document defines a new Extended Report block for use with <a href="#RFC3550">[RFC3550]</a> and <a href="#RFC3611">[RFC3611]</a>.</p>
<h1 id="rfc.section.1.3"><a href="#rfc.section.1.3">1.3.</a> Performance Metrics Framework</h1>
<p id="rfc.section.1.3.p.1">The Performance Metrics Framework <a href="#RFC6390">[RFC6390]</a> provides guidance on the definition and specification of performance metrics. The RTP Monitoring Framework <a href="#RFC6792">[RFC6792]</a> provides guidelines for reporting block format using RTCP XR. The metrics block described in this document is in accordance with the guidelines in <a href="#RFC6390">[RFC6390]</a> and <a href="#RFC6792">[RFC6792]</a>.</p>
<h1 id="rfc.section.1.4"><a href="#rfc.section.1.4">1.4.</a> Applicability</h1>
<p id="rfc.section.1.4.p.1">These metrics are applicable to a range of RTP applications that contain de-jitter buffers <a href="#RFC5481">[RFC5481]</a> at the receiving end to smooth variation in packet-arrival time and don't use stream repair means, e.g., Forward Error Correction (FEC) <a href="#I-D.ietf-payload-flexible-fec-scheme">[I-D.ietf-payload-flexible-fec-scheme]</a> and/or retransmission <a href="#RFC4588">[RFC4588]</a>.</p>
<h1 id="rfc.section.2"><a href="#rfc.section.2">2.</a> Terminology</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">RFC 2119</a> <cite title="NONE">[RFC2119]</cite>.</p>
<p id="rfc.section.2.p.2">In addition, the following terms are defined:</p>
<p/>

<dl>
  <dt>Received, Lost, and Discarded</dt>
  <dd style="margin-left: 8"><br/><br/>A packet shall be regarded as "lost" if it fails to arrive within an implementation-specific time window. A packet that arrives within this time window but is too early to be played out, too late to be played out, or thrown away before playout due to packet duplication or redundancy shall be regarded as discarded. A packet shall not be regarded as discarded if it arrives within this time window but is dropped during decoding by some higher-layer decoder, e.g., due to a decoding error. A packet shall be classified as one of received (or OK), discarded, or lost.  The metric "cumulative number of packets lost" defined in <a href="#RFC3550">[RFC3550]</a> reports a count of packets lost from the media stream (single synchronization source (SSRC) within a single RTP session).  Similarly, the metric "number of packets discarded" defined in <a href="#RFC7002">[RFC7002]</a> reports a count of packets discarded from the media stream (single SSRC within a single RTP session) arriving at the receiver. Another metric, defined in <a href="#RFC5725">[RFC5725]</a>, is available to report on packets that are not recovered by any repair techniques that may be in use.  Note that the term "discard" defined here builds on the "discard" definition in <a href="#RFC3611">[RFC3611]</a> but extends the concept to take into account packet duplication and reports different types of discard counts <a href="#RFC7002">[RFC7002]</a>. </dd>
  <dt>Bursts and Gaps</dt>
  <dd style="margin-left: 8"><br/><br/>The terms "burst" and "gap" are used in a manner consistent with that of RTCP XR <a href="#RFC3611">[RFC3611]</a>. RTCP XR views an RTP stream as being divided into bursts, which are periods during which the discard rate is high enough to cause noticeable quality degradation (generally over 5 percent discard rate), and gaps, which are periods during which discarded packets are infrequent and hence quality is generally acceptable. </dd>
</dl>
<h1 id="rfc.section.3"><a href="#rfc.section.3">3.</a> Burst/Gap Discard Metrics Block</h1>
<p id="rfc.section.3.p.1">Metrics in this block report on burst/gap discard in the stream arriving at the RTP system. Measurements of these metrics are made at the receiving end of the RTP stream. Instances of this metrics block use the synchronization source (SSRC) to refer to the separate auxiliary Measurement Information Block <a href="#RFC6776">[RFC6776]</a>, which describes measurement periods in use (see <a href="#RFC6776">[RFC6776]</a>, Section 4.2).</p>
<p id="rfc.section.3.p.2">This metrics block relies on the measurement period in the Measurement Information Block indicating the span of the report. Senders MUST send this block in the same compound RTCP packet as the Measurement Information Block. Receivers MUST verify that the measurement period is received in the same compound RTCP packet as this metrics block. If not, this metrics block MUST be discarded.</p>
<h1 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a> Report Block Structure</h1>
<pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |    BT=IBGD    | I |   resv    |      Block Length = 5         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                        SSRC of Source                         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   Threshold   |         Sum of Burst Durations (ms)           |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |          Packets Discarded in Bursts          |    Number of  |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |    Bursts     |           Total Packets Expected in Bursts    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                        Discard Count                          |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
<p class="figure">Figure 1: Report Block Structure</p>
<p id="rfc.section.3.1.p.1">The structure of the Burst/Gap Discard Metrics Block is as follows.</p>
<h1 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2.</a> Definition of Fields in Burst/Gap Discard Metrics Block</h1>
<p/>

<dl>
  <dt>Block Type (BT): 8 bits</dt>
  <dd style="margin-left: 8"><br/><br/>A Burst/Gap Discard Metrics Block is identified by the constant IBGD.</dd>
  <dt></dt>
  <dd style="margin-left: 8">[Note to RFC Editor: Please replace IBGD with the IANA provided RTCP XR block type for this block.]</dd>
  <dt>Interval Metric flag (I): 2 bits</dt>
  <dd style="margin-left: 8"><br/><br/>This field is used to indicate whether the burst/gap discard metrics are Sampled, Interval, or Cumulative metrics <a href="#RFC6792">[RFC6792]</a>: <dl><dt></dt><dd style="margin-left: 8">I=10: Interval Duration - the reported value applies to the most recent measurement interval duration between successive metrics reports.</dd><dt></dt><dd style="margin-left: 8">I=11: Cumulative Duration - the reported value applies to the accumulation period characteristic of cumulative measurements.</dd><dt></dt><dd style="margin-left: 8">I=01: Sampled Value - the reported value is a sampled instantaneous value.</dd></dl><p>In this document, burst/gap discard metrics can only be measured over definite intervals and cannot be sampled. Also, the value I=00 is reserved for future use. Senders MUST NOT use the values I=00 or I=01. If a block is received with I=00 or I=01, the receiver MUST discard the block. </p></dd>
  <dt>Reserved (resv): 6 bits</dt>
  <dd style="margin-left: 8"><br/><br/>These bits are reserved. They MUST be set to zero by senders and ignored by receivers (see <a href="#RFC6709">[RFC6709]</a>, Section 4.2).  </dd>
  <dt>Block Length: 16 bits</dt>
  <dd style="margin-left: 8"><br/><br/> The length of this report block in 32-bit words, minus one. For the Burst/Gap Discard Metrics Block, the block length is equal to 5.  The block MUST be discarded if the block length is set to a different value.</dd>
  <dt>SSRC of Source: 32 bits</dt>
  <dd style="margin-left: 8"><br/><br/>As defined in Section 4.1 of <a href="#RFC3611">[RFC3611]</a>.</dd>
  <dt>Threshold: 8 bits</dt>
  <dd style="margin-left: 8"><br/><br/>The Threshold is equivalent to Gmin in <a href="#RFC3611">[RFC3611]</a>, i.e., the number of successive packets that must not be discarded prior to and following a discard packet in order for this discarded packet to be regarded as part of a gap. Note that the Threshold is set in accordance with the Gmin calculation defined in Section 4.7.2 of <a href="#RFC3611">[RFC3611]</a>.</dd>
  <dt> Sum of Burst Durations (ms): 24 bits</dt>
  <dd style="margin-left: 8"><br/><br/> The total duration of bursts of discarded packets in the period of the report (Interval or Cumulative).  <br/><br/> The measured value is an unsigned value.  If the measured value exceeds 0xFFFFFD, the value 0xFFFFFE MUST be reported to indicate an over-range measurement.  If the measurement is unavailable, the value 0xFFFFFF MUST be reported.  </dd>
  <dt>Packets Discarded in Bursts: 24 bits</dt>
  <dd style="margin-left: 8"><br/><br/>The total number of packets discarded during discard bursts, as defined in Section 3.2 of <a href="#RFC7002">[RFC7002]</a>.</dd>
  <dt>Number of Bursts: 16 bits</dt>
  <dd style="margin-left: 8"><br/><br/> The number of discard bursts in the period of the report (Interval or Cumulative).  <br/><br/> The measured value is an unsigned value.  If the measured value exceeds 0xFFFD, the value 0xFFFE MUST be reported to indicate an over-range measurement.  If the measurement is unavailable, the value 0xFFFF MUST be reported.  </dd>
  <dt>Total Packets Expected in Bursts: 24 bits</dt>
  <dd style="margin-left: 8"><br/><br/>The total number of packets expected during discarded bursts (that is, the sum of received packets and lost packets). The metric is defined in <a href="#RFC7003">[RFC7003]</a>.  </dd>
  <dt>Discard Count: 32 bits</dt>
  <dd style="margin-left: 8"><br/><br/> Number of packets discarded over the period (Interval or Cumulative) covered by this report, as defined in Section 3.2 of <a href="#RFC7002">[RFC7002]</a>.</dd>
</dl>
<h1 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3.</a> Derived Metrics Based on the Reported Metrics</h1>
<p id="rfc.section.3.3.p.1">The metrics described here are intended to be used in conjunction with information from the Measurement Information Block <a href="#RFC6776">[RFC6776]</a>.</p>
<p id="rfc.section.3.3.p.2">These metrics provide the following information relevant to statistical parameters (depending on cumulative of interval measures), for example: </p>

<ul>
  <li>The average discarded burst size, which can be calculated by dividing the metric "Packets Discarded in Bursts" with the "Number of Bursts".</li>
  <li>The average burst duration, which can be calculated by dividing the metric "Sum of Burst Durations (ms)" with the "Number of bursts".</li>
</ul>

<p> </p>
<h1 id="rfc.section.4"><a href="#rfc.section.4">4.</a> Considerations for Voice-over-IP Applications</h1>
<p id="rfc.section.4.p.1">This metrics block is applicable to a broad range of RTP applications. Where the metric is used with a Voice-over-IP (VoIP) application and the stream repair means is not available, the following considerations apply.</p>
<p id="rfc.section.4.p.2">RTCP XR views a call as being divided into bursts, which are periods during which the discard rate is high enough to cause noticeable call quality degradation (generally over 5 percent discard rate) and gaps, which are periods during which discarded packets are infrequent and hence call quality is generally acceptable.</p>
<p id="rfc.section.4.p.3">If voice activity detection is used, the burst and gap duration shall be determined as if silence packets had been sent, i.e., a period of silence in excess of Gmin packets will terminate a burst condition.</p>
<p id="rfc.section.4.p.4">The recommended value for the threshold Gmin in <a href="#RFC3611">[RFC3611]</a> results in a burst being a period of time during which the call quality is degraded to a similar extent to a typical pulse code modulation (PCM) severely errored second.</p>
<h1 id="rfc.section.5"><a href="#rfc.section.5">5.</a> SDP Signaling</h1>
<p><a href="#RFC3611">[RFC3611]</a> defines the use of SDP (Session Description Protocol) <a href="#RFC4566">[RFC4566]</a> for signaling the use of XR blocks. XR blocks MAY be used without prior signaling.</p>
<h1 id="rfc.section.5.1"><a href="#rfc.section.5.1">5.1.</a> SDP rtcp-xr Attribute Extension</h1>
<pre>
xr-format =/ xr-ind-bgd-block

xr-ind-bgd-block = "ind-burst-gap-discard"
</pre>
<p id="rfc.section.5.1.p.1">This section augments the SDP <a href="#RFC4566">[RFC4566]</a> attribute "rtcp-xr" defined in <a href="#RFC3611">[RFC3611]</a> by providing an additional value of "xr-format" to signal the use of the report block defined in this document. The ABNF <a href="#RFC5234">[RFC5234]</a> syntax is as follows.</p>
<h1 id="rfc.section.5.2"><a href="#rfc.section.5.2">5.2.</a> Offer/Answer Usage</h1>
<p id="rfc.section.5.2.p.1">When SDP is used in Offer/Answer context, the SDP Offer/Answer usage defined in <a href="#RFC3611">[RFC3611]</a> for unilateral "rtcp-xr" attribute parameters applies. For detailed usage in Offer/Answer for unilateral parameters, refer to Section 5.2 of <a href="#RFC3611">[RFC3611]</a>.</p>
<h1 id="rfc.section.6"><a href="#rfc.section.6">6.</a> IANA Considerations</h1>
<p id="rfc.section.6.p.1">New block types for RTCP XR are subject to IANA registration. For general guidelines on IANA considerations for RTCP XR, refer to <a href="#RFC3611">[RFC3611]</a>.</p>
<h1 id="rfc.section.6.1"><a href="#rfc.section.6.1">6.1.</a> New RTCP XR Block Type Value</h1>
<p id="rfc.section.6.1.p.1">This document assigns the block type value IBGD in the IANA "RTP Control Protocol Extended Reports (RTCP XR) Block Type Registry" to the "Burst/Gap Discard Metrics Block".</p>
<p id="rfc.section.6.1.p.2">[Note to RFC Editor: Please replace IBGD with the IANA provided RTCP XR block type for this block.]</p>
<h1 id="rfc.section.6.2"><a href="#rfc.section.6.2">6.2.</a> New RTCP XR SDP Parameter</h1>
<p id="rfc.section.6.2.p.1">This document also registers a new parameter "ind-burst-gap-discard" in the "RTP Control Protocol Extended Reports (RTCP XR) Session Description Protocol (SDP) Parameters Registry".</p>
<h1 id="rfc.section.6.3"><a href="#rfc.section.6.3">6.3.</a> Contact Information for Registrations</h1>
<pre>
   RAI Area Directors &lt;rai-ads@tools.ietf.org&gt;
</pre>
<p id="rfc.section.6.3.p.1">The contact information for the registrations is: </p>
<h1 id="rfc.section.7"><a href="#rfc.section.7">7.</a> Security Considerations</h1>
<p id="rfc.section.7.p.1">It is believed that this RTCP XR block introduces no new security considerations beyond those described in <a href="#RFC3611">[RFC3611]</a>. This block does not provide per-packet statistics, so the risk to confidentiality documented in Section 7, paragraph 3 of <a href="#RFC3611">[RFC3611]</a> does not apply.</p>
<h1 id="rfc.section.8"><a href="#rfc.section.8">8.</a> Contributors</h1>
<p id="rfc.section.8.p.1">Qin Wu, Rachel Adams, and Alan Clark wrote the initial draft of this document.</p>
<h1 id="rfc.section.9"><a href="#rfc.section.9">9.</a> Acknowledgments</h1>
<p id="rfc.section.9.p.1">The authors acknowledge the reviews and feedback provided by various people.</p>
<h1 id="rfc.references"><a href="#rfc.references">10.</a> References</h1>
<h1 id="rfc.references.1"><a href="#rfc.references.1">10.1.</a> Normative References</h1>
<table>
  <tbody>
    <tr>
      <td class="reference">
        <b id="RFC2119">[RFC2119]</b>
      </td>
      <td class="top"><a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC3550">[RFC3550]</b>
      </td>
      <td class="top"><a>Schulzrinne, H.</a>, <a>Casner, S.</a>, <a>Frederick, R.</a> and <a>V. Jacobson</a>, "<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>", STD 64, RFC 3550, July 2003.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC3611">[RFC3611]</b>
      </td>
      <td class="top"><a>Friedman, T.</a>, <a>Caceres, R.</a> and <a>A. Clark</a>, "<a href="http://tools.ietf.org/html/rfc3611">RTP Control Protocol Extended Reports (RTCP XR)</a>", RFC 3611, November 2003.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC4566">[RFC4566]</b>
      </td>
      <td class="top"><a>Handley, M.</a>, <a>Jacobson, V.</a> and <a>C. Perkins</a>, "<a href="http://tools.ietf.org/html/rfc4566">SDP: Session Description Protocol</a>", RFC 4566, July 2006.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC5234">[RFC5234]</b>
      </td>
      <td class="top"><a>Crocker, D.</a> and <a>P. Overell</a>, "<a href="http://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>", STD 68, RFC 5234, DOI 10.17487/RFC5234, January 2008.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC5725">[RFC5725]</b>
      </td>
      <td class="top"><a>Begen, A.</a>, <a>Hsu, D.</a> and <a>M. Lague</a>, "<a href="http://tools.ietf.org/html/rfc5725">Post-Repair Loss RLE Report Block Type for RTP Control Protocol (RTCP) Extended Reports (XRs)</a>", RFC 5725, February 2010.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC6776">[RFC6776]</b>
      </td>
      <td class="top"><a>Clark, A.</a> and <a>Q. Wu</a>, "<a href="http://tools.ietf.org/html/rfc6776">Measurement Identity and Information Reporting Using a Source Description (SDES) Item and an RTCP Extended Report (XR) Block</a>", RFC 6776, October 2012.</td>
    </tr>
  </tbody>
</table>
<h1 id="rfc.references.2"><a href="#rfc.references.2">10.2.</a> Informative References</h1>
<table>
  <tbody>
    <tr>
      <td class="reference">
        <b id="I-D.ietf-payload-flexible-fec-scheme">[I-D.ietf-payload-flexible-fec-scheme]</b>
      </td>
      <td class="top"><a>Singh, V.</a>, <a>Begen, A.</a>, <a>Zanaty, M.</a> and <a>G. Mandyam</a>, "<a href="http://tools.ietf.org/html/draft-ietf-payload-flexible-fec-scheme-01">RTP Payload Format for Flexible Forward Error Correction (FEC)</a>", Internet-Draft draft-ietf-payload-flexible-fec-scheme-01, October 2015.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC4588">[RFC4588]</b>
      </td>
      <td class="top"><a>Rey, J.</a>, <a>Leon, D.</a>, <a>Miyazaki, A.</a>, <a>Varsa, V.</a> and <a>R. Hakenberg</a>, "<a href="http://tools.ietf.org/html/rfc4588">RTP Retransmission Payload Format</a>", RFC 4588, July 2006.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC5481">[RFC5481]</b>
      </td>
      <td class="top"><a>Morton, A.</a> and <a>B. Claise</a>, "<a href="http://tools.ietf.org/html/rfc5481">Packet Delay Variation Applicability Statement</a>", RFC 5481, DOI 10.17487/RFC5481, March 2009.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC6390">[RFC6390]</b>
      </td>
      <td class="top"><a>Clark, A.</a> and <a>B. Claise</a>, "<a href="http://tools.ietf.org/html/rfc6390">Guidelines for Considering New Performance Metric Development</a>", BCP 170, RFC 6390, October 2011.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC6709">[RFC6709]</b>
      </td>
      <td class="top"><a>Carpenter, B.</a>, <a>Aboba, B.</a> and <a>S. Cheshire</a>, "<a href="http://tools.ietf.org/html/rfc6709">Design Considerations for Protocol Extensions</a>", RFC 6709, DOI 10.17487/RFC6709, September 2012.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC6792">[RFC6792]</b>
      </td>
      <td class="top"><a>Wu, Q.</a>, <a>Hunt, G.</a> and <a>P. Arden</a>, "<a href="http://tools.ietf.org/html/rfc6792">Guidelines for Use of the RTP Monitoring Framework</a>", RFC 6792, DOI 10.17487/RFC6792, November 2012.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC6958">[RFC6958]</b>
      </td>
      <td class="top"><a>Clark, A.</a>, <a>Zhang, S.</a>, <a>Zhao, J.</a> and <a>Q. Wu</a>, "<a href="http://tools.ietf.org/html/rfc6958">RTP Control Protocol (RTCP) Extended Report (XR) Block for Burst/Gap Loss Metric Reporting</a>", RFC 6958, May 2013.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC7002">[RFC7002]</b>
      </td>
      <td class="top"><a>Clark, A.</a>, <a>Zorn, G.</a> and <a>Q. Wu</a>, "<a href="http://tools.ietf.org/html/rfc7002">RTP Control Protocol (RTCP) Extended Report (XR) Block for Discard Count Metric Reporting</a>", RFC 7002, September 2013.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC7003">[RFC7003]</b>
      </td>
      <td class="top"><a>Clark, A.</a>, <a>Huang, R.</a> and <a>Q. Wu</a>, "<a href="http://tools.ietf.org/html/rfc7003">RTP Control Protocol (RTCP) Extended Report (XR) Block for Burst/Gap Discard Metric Reporting</a>", RFC 7003, September 2013.</td>
    </tr>
  </tbody>
</table>
<h1 id="rfc.appendix.A"><a href="#rfc.appendix.A">Appendix A.</a> Metrics Represented Using the Template from RFC 6390</h1>
<p/>

<ol style="list-style-type: lower-alpha">
  <li>Threshold Metric <ul><li>Defined in Appenix A.a of <a href="#RFC7003">[RFC7003]</a>.</li></ul></li>
  <li>Sum of burst durations (ms) <ul><li>Metric Name: Sum of Burst Durations with Discarded RTP Packets.</li><li>Metric Description: The total duration of bursts of discarded RTP packets in the period of the report.</li><li>Method of Measurement or Calculation: See Section 3.1, Sum of Burst Durations definition.</li><li>Units of Measurement: See Section 3.1, Sum of Burst Durations definition. </li><li>Measurement Point(s) with Potential Measurement Domain: See Section 3, 1st paragraph. </li><li>Measurement Timing: See Section 3, 2nd paragraph for measurement timing and Section 3.1 for Interval Metric flag.  </li><li>Use and Applications: See Section 1.4.</li><li>Reporting Model: See RFC 3611. </li></ul></li>
  <li>Packets Discarded in Bursts Metric <ul><li>Defined in Appenix A.b of <a href="#RFC7003">[RFC7003]</a>.</li></ul></li>
  <li>Number of bursts <ul><li>Metric Name: Number of discard bursts in RTP.</li><li>Metric Description: The total number of bursts with discarded RTP packets in the period of the report. </li><li>Method of Measurement or Calculation: See Section 3.1, Number of discard bursts definition.</li><li>Units of Measurement: See Section 3.1 for the Number of bursts definition. </li><li>Measurement Point(s) with Potential Measurement Domain: See Section 3, 1st paragraph. </li><li>Measurement Timing: See Section 3, 2nd paragraph for measurement timing and Section 3.1 for Interval Metric flag.  </li><li>Use and Applications: See Section 1.4.</li><li>Reporting Model: See RFC 3611. </li></ul></li>
  <li>Total Packets Expected in Bursts Metric <ul><li>Defined in Appenix A.c of <a href="#RFC7003">[RFC7003]</a>.</li></ul></li>
  <li>Discard Count <ul><li>Defined in Appenix A.a of <a href="#RFC7002">[RFC7002]</a>.</li></ul></li>
</ol>
<h1 id="rfc.authors">
  <a href="#rfc.authors">Authors' Addresses</a>
</h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Varun Singh</span> (editor)
	  <span class="n hidden">
		<span class="family-name">Singh</span>
	  </span>
	</span>
	<span class="org vcardline">Nemu Dialogue Systems Oy</span>
	<span class="adr">
	  <span class="vcardline">Runeberginkatu 4c A 4 </span>

	  <span class="vcardline">
		<span class="locality">Helsinki</span>,  
		<span class="region"></span>
		<span class="code">00100</span>
	  </span>
	  <span class="country-name vcardline">Finland</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:varun@callstats.io">varun@callstats.io</a></span>

<span class="vcardline">URI: <a href="http://www.callstats.io/">http://www.callstats.io/</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Colin Perkins</span> 
	  <span class="n hidden">
		<span class="family-name">Clark</span>
	  </span>
	</span>
	<span class="org vcardline">University of Glasgow</span>
	<span class="adr">
	  <span class="vcardline">School of Computing Science</span>

	  <span class="vcardline">
		<span class="locality">Glasgow</span>,  
		<span class="region"></span>
		<span class="code">G12 8QQ</span>
	  </span>
	  <span class="country-name vcardline">United Kingdom</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:csp@csperkins.org">csp@csperkins.org</a></span>

  </address>
</div>

</body>
</html>
